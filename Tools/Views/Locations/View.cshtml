@model IEnumerable<Tools.Models.Locations>

@{
    ViewData["Title"] = "View";
}

<div class="text-center pb-4">
	<h1 class="display-4">View</h1>
</div>

<div class="row">
	<div class="col-xl-9 col-lg-9">
		<div class="card mb-3">
			<div class="card-body">
				<div class="d-flex fw-bold small mb-3">
					<span class="flex-grow-1">Map</span>
					<a href="#" data-toggle="card-expand" class="text-inverse text-opacity-50 text-decoration-none"><i class="bi bi-fullscreen"></i></a>
				</div>

				<div class="row align-items-center mb-2">
					<div class="col-12">
						<div class="row align-items-center mb-2">
							<div style="height: 500px" class="col-xl-12" id="map"></div>
						</div>
					</div>
				</div>
			</div>

			<div class="card-arrow">
				<div class="card-arrow-top-left"></div>
				<div class="card-arrow-top-right"></div>
				<div class="card-arrow-bottom-left"></div>
				<div class="card-arrow-bottom-right"></div>
			</div>
		</div>
	</div>

	<div class="col-xl-3 col-lg-3">
		<div class="card mb-3">
			<div class="card-body">
				<div class="d-flex fw-bold small mb-3">
					<span class="flex-grow-1">Data Entry</span>
					<a href="#" data-toggle="card-expand" class="text-inverse text-opacity-50 text-decoration-none"><i class="bi bi-fullscreen"></i></a>
				</div>

				<div class="row align-items-center mb-2">
					<div class="col-9">
						<div class="row align-items-center mb-2">
							<div style="height: 500px" class="col-xl-12" id="map"></div>
						</div>
					</div>
					<div class="col-3">
						<div class="row mb-2">
						</div>
					</div>
				</div>
			</div>

			<div class="card-arrow">
				<div class="card-arrow-top-left"></div>
				<div class="card-arrow-top-right"></div>
				<div class="card-arrow-bottom-left"></div>
				<div class="card-arrow-bottom-right"></div>
			</div>
		</div>
	</div>
</div>

@*
<form asp-action="Create" asp-controller="Locations" method="post">
    <input asp-for="Name" required />
    <input asp-for="Latitude" type="number" step="any" required />
    <input asp-for="Longitude" type="number" step="any" required />
    <button type="submit">Add location</button>
</form>
*@

<!-- Google Maps JavaScript API -->
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCbFQw2w7B3wA-gp1pLKYmPSzJUMTXCFwc&callback=initMap" async defer></script>

<script>
    function initMap() {
        const map = new google.maps.Map(document.getElementById('map'), {
            zoom: 15,
            center: { lat: 50.8119188, lng: -0.5057848 }
        });

		@foreach (var location in Model)
		{
			<text>
				new google.maps.Marker({
					position: { lat: @location.Latitude, lng: @location.Longitude },
					map: map,
					title: '@location.Name'
				});
			</text>
		}
    }
</script>